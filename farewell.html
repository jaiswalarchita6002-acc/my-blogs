<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Goodbye School ! - Archita Jaiswal Blogs</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Shadows+Into+Light&display=swap" rel="stylesheet" />

  <style>
    body {
    font-family: 'Segoe UI', sans-serif;
    background-color: #faf9f6; /* fallback color */
    
    /* Fullscreen fixed background */
    background-image: url('blogwallpaper4.png');
    background-repeat: no-repeat;       /* don't tile */
    background-size: cover;             /* cover entire screen */
    background-position: center center; /* center the image */
    background-attachment: fixed;       /* stay fixed when scrolling */
    
    color: #333;
    padding: 20px;
    position: relative;
    overflow-x: hidden;
}

    header {
      text-align: center;
      margin-bottom: 30px;
    }

    h1 {
      font-family: 'Shadows Into Light', cursive;
      font-size: 3em;
      margin-bottom: 5px;
    }

    .date-line {
      font-size: 0.95em;
      color: #666;
      margin-bottom: 40px;
    }

    .black-text {
      color: black;
      font-weight: bold;
    }

    .page-container {
      display: flex;
      gap: 40px;
    }

    .separator {
      width: 2px;
      background-color: #ccc;
    }

    .content-area {
      flex: 3;
      font-size: 1.1em;
      line-height: 1.6em;
    }

    .photos-section {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 40px;
    }

    .polaroid {
      width: 260px;
      background: white;
      border: 2px solid black;
      box-shadow: none;
      transform: rotate(var(--angle, 0deg));
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      padding-bottom: 10px;
    }

    .polaroid:hover {
      transform: translate(-10px, -10px);
      box-shadow: 14px 14px 0px black;
    }

    .polaroid img {
      width: 100%;
      height: 180px;
      object-fit: cover;
    }

    .polaroid-title {
      font-family: 'Shadows Into Light', cursive;
      font-size: 1.3em;
      text-align: center;
      padding: 6px 10px;
    }

    .polaroid-meta {
      font-size: 0.8em;
      color: #666;
      text-align: center;
      padding: 4px 10px;
    }

    .suggested {
      flex: 1;
      padding-left: 20px;
    }

    .suggested h3 {
      font-family: 'Shadows Into Light', cursive;
      font-size: 1.8em;
      border-bottom: 2px solid black;
      padding-bottom: 6px;
      margin-bottom: 15px;
    }

    .suggested-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .suggested-list li {
      margin: 12px 0;
    }

    .suggested-list a {
      font-family: 'Shadows Into Light', cursive;
      font-size: 1.3em;
      text-decoration: none;
      color: #333;
    }

    .suggested-list a:hover {
      text-decoration: underline;
    }
   /* COMMENT SECTION STYLING */
    #commentBox {
      width: 100%;
      height: 100px;
      padding: 10px;
      font-family: 'Shadows Into Light', cursive;
      font-size: 16px;
      margin-top: 40px;
      border: 1px solid #ccc;
      border-radius: 6px;
      resize: vertical;
    }

    #submitBtn {
      margin-top: 10px;
      padding: 8px 15px;
      font-size: 16px;
      font-family: 'Shadows Into Light', cursive;
      cursor: pointer;
      border-radius: 6px;
      border: none;
      background-color: #333;
      color: #fff;
      transition: background 0.2s ease;
    }

    #submitBtn:hover {
      background-color: #555;
    }

    .comment {
      background: #f4f4f4;
      font-family: 'Shadows Into Light', cursive;
      padding: 10px;
      margin: 10px 0;
      border-radius: 6px;
    }
    .initial-circle {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background: #333;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }

    .delete-btn {
      margin-left: auto;
      cursor: pointer;
      background: none;
      border: none;
      font-size: 18px;
    }
    
   .main-wrapper {
  max-width: 1200px;   /* good for sidebar layout */
  margin: 50px auto;
  padding: 20px;
}
    

    <style>
/* Circle for initials */
.user-initials {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 35px;
  height: 35px;
  background-color: #333;
  color: #fff;
  border-radius: 50%;
  font-weight: bold;
  font-family: 'Segoe UI', sans-serif;
  cursor: default;
  margin-right: 8px;
  position: relative;
}

/* Tooltip */
.user-initials:hover::after {
  content: attr(data-email);
  position: absolute;
  top: -30px;
  left: 50%;
  transform: translateX(-50%);
  background: #333;
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 0.75em;
  white-space: nowrap;
  z-index: 10;
}
</style>


</head>
   <body>

<div class="main-wrapper">

  <header>

    <h1>Goodbye School !</h1>
    <p class="date-line"><span class="black-text">BLOGS</span> by <span class="black-text">ARCHITA JAISWAL</span> ‚Äì 15 April 2025</p>
  </header>

  <div class="page-container">
    <article class="content-area">
      <p>Farewell was one of those bittersweet days that felt like both a celebration and a goodbye. Standing on the familiar assembly ground, the place where we had gathered every morning for years, suddenly felt different. It wasn‚Äôt the usual school day lineup‚Äîit was us, dressed in sarees and suits, stepping into an entirely new version of ourselves. For many, it was the first time seeing everyone in such attire, and honestly, the sight of girls in their graceful sarees and the boys in sharp suits felt straight out of a movie.</p>

<p>The most symbolic moment was the candle-passing ceremony. On that very ground where we once sang patriotic songs and took the pledge, we now stood handing over the flame to our juniors. It wasn‚Äôt just a candle‚Äîit was a passing of traditions, memories, and a silent promise that they would carry the school‚Äôs spirit forward. That moment carried weight, reminding us that our time as seniors had truly come to an end.</p>

<p>But the emotions soon blended with joy when the music started. Bollywood party songs blasted through the speakers, and we all danced with abandon. The ground that had seen us march and stand in discipline now saw us laughing, singing, and dancing like there was no tomorrow. Everyone joined in, whether they could dance or not‚Äîit was pure celebration.</p>

<p>The day ended with our last class photograph. All of us in sarees and suits, standing beside our class teacher and principal on the same ground where countless memories were made, smiling through both pride and sadness. That picture wasn‚Äôt just a photo‚Äîit was the closing page of our school journey, a memory frozen forever.</p>

<p>Farewell on the assembly ground was more than an event‚Äîit was the perfect full stop to our school life.</p>

<section class="photos-section">
        <div class="polaroid" style="--angle: -4deg;">
          <img src="farewell2.jpg" alt="Farwell2" />
          <div class="polaroid-date">12.08.2025</div>
        </div>
        <div class="polaroid" style="--angle: 5deg;">
          <img src="farewell3.jpg" alt="Farwell3" />
          <div class="polaroid-date">15.01.2025</div>
        </div>
        <div class="polaroid" style="--angle: 5deg;">
          <img src="farewell4.jpg" alt="Farwell4" />
          <div class="polaroid-date">15.01.2025</div>
        </div>
      </section>
 <!-- COMMENT SECTION -->
      <textarea id="commentBox" placeholder="Write your comment..."></textarea>
      <button id="submitBtn" onclick="postComment()">Submit</button>
      <div id="commentsList"></div>
    </article>

    <div class="separator"></div>

    <aside class="suggested">
      <h3>Suggested Blogs</h3>
      <ul class="suggested-list">
        <li><a href="date.html">LOVE NOWADAYS</a></li>
        <li><a href="farewell.html">Goodbye school !</a></li>
        <li><a href="life-as-army-kid.html">Life as an Army Kid</a></li>
        <li><a href="new.html">The Shift</a></li>
        <li><a href="index.html">Home</a></li>
      </ul>
    </aside>
  </div>

  <!-- FIREBASE SDKS -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

  <script>
    const BLOG_ID = "farewell";

    const firebaseConfig = {
      apiKey: "AIzaSyAlxJ134nGzQGwiKW30Rj9B1dr5IqQlblI",
      authDomain: "comment-123.firebaseapp.com",
      projectId: "comment-123",
      storageBucket: "comment-123.firebasestorage.app",
      messagingSenderId: "1094221233460",
      appId: "1:1094221233460:web:a149795852cdfe0908f961",
      measurementId: "G-N88Z8M65Q1"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    const auth = firebase.auth();
    let currentUser = null;

    auth.onAuthStateChanged(user => {
      if(user){
        currentUser = user;
        renderComments();
      } else {
        currentUser = null;
      }
    });

    function signIn() {
      const provider = new firebase.auth.GoogleAuthProvider();
      auth.signInWithPopup(provider).catch(err => alert(err.message));
    }

    function postComment() {
  const commentText = document.getElementById("commentBox").value;

  if (!currentUser) {
    alert("Please sign in first!");
    signIn();
    return;
  }

  if (commentText.trim() === "") {
    alert("Please write something!");
    return;
  }

  db.collection("blogs")
    .doc(BLOG_ID)
    .collection("comments")
    .add({
      text: commentText,
      time: Date.now(),
      userId: currentUser.uid,
      displayName: currentUser.displayName,
      userEmail: currentUser.email   // ‚≠ê IMPORTANT FIX
    });

  document.getElementById("commentBox").value = "";
}


   function renderComments(){
  db.collection("blogs")
    .doc(BLOG_ID)
    .collection("comments")
    .orderBy("time", "desc")
    .onSnapshot(snapshot => {
      let html = "";
      snapshot.forEach(doc => {
        const data = doc.data();

        const email = data.userEmail ? data.userEmail : "No email";
        const initials = email.charAt(0).toUpperCase();

        const canDelete = currentUser && currentUser.uid === data.userId;

        html += `
          <div class="comment">
            <div class="initial-circle" title="${email}">
              ${initials}
            </div>
            <span>${data.text}</span>
            ${canDelete ? `<button class="delete-btn" onclick="deleteComment('${doc.id}')">üóëÔ∏è</button>` : ""}
          </div>
        `;
      });

      document.getElementById("commentsList").innerHTML = html;
    });
}


    function deleteComment(commentId){
      if(confirm("Are you sure you want to delete this comment?")){
        db.collection("blogs")
          .doc(BLOG_ID)
          .collection("comments")
          .doc(commentId)
          .delete();
      }
    }
 </script>

</div> <!-- end main-wrapper -->

</body>
  
</html>
